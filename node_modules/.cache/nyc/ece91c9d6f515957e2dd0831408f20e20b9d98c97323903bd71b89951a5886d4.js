"use strict";var cov_2p227mft9p=function(){var path="/Users/kevin/abarian-backend/server/middlewares/errorHandler.js";var hash="6a50056073c3ef1e321fa9576d8c14dffd158b10";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/kevin/abarian-backend/server/middlewares/errorHandler.js",statementMap:{"0":{start:{line:3,column:0},end:{line:5,column:3}},"1":{start:{line:6,column:0},end:{line:6,column:25}},"2":{start:{line:17,column:21},end:{line:39,column:1}},"3":{start:{line:18,column:2},end:{line:18,column:34}},"4":{start:{line:20,column:2},end:{line:27,column:3}},"5":{start:{line:21,column:4},end:{line:26,column:7}},"6":{start:{line:29,column:2},end:{line:31,column:3}},"7":{start:{line:30,column:4},end:{line:30,column:23}},"8":{start:{line:33,column:2},end:{line:38,column:5}},"9":{start:{line:41,column:15},end:{line:41,column:27}},"10":{start:{line:42,column:0},end:{line:42,column:27}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:17,column:21},end:{line:17,column:22}},loc:{start:{line:17,column:48},end:{line:39,column:1}},line:17}},branchMap:{"0":{loc:{start:{line:18,column:13},end:{line:18,column:32}},type:"binary-expr",locations:[{start:{line:18,column:13},end:{line:18,column:25}},{start:{line:18,column:29},end:{line:18,column:32}}],line:18},"1":{loc:{start:{line:20,column:2},end:{line:27,column:3}},type:"if",locations:[{start:{line:20,column:2},end:{line:27,column:3}},{start:{line:20,column:2},end:{line:27,column:3}}],line:20},"2":{loc:{start:{line:29,column:2},end:{line:31,column:3}},type:"if",locations:[{start:{line:29,column:2},end:{line:31,column:3}},{start:{line:29,column:2},end:{line:31,column:3}}],line:29}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},f:{"0":0},b:{"0":[0,0],"1":[0,0],"2":[0,0]},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184",hash:"6a50056073c3ef1e321fa9576d8c14dffd158b10"};var coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}return coverage[path]=coverageData;}();cov_2p227mft9p.s[0]++;Object.defineProperty(exports,"__esModule",{value:true});cov_2p227mft9p.s[1]++;exports.default=void 0;/**
 * uncaught errors in server
 * @function ErrorHandler
 * @param  {string} somebody - Somebody's name.
 * @param {object} res
 * @param {object} req
 * @param {function} next
 * @returns {function|object} - Function next() or json object
 */cov_2p227mft9p.s[2]++;const errorHandler=(error,req,res,next)=>{cov_2p227mft9p.f[0]++;cov_2p227mft9p.s[3]++;res.status((cov_2p227mft9p.b[0][0]++,error.status)||(cov_2p227mft9p.b[0][1]++,500));cov_2p227mft9p.s[4]++;if(process.env.NODE._ENV==='development'){cov_2p227mft9p.b[1][0]++;cov_2p227mft9p.s[5]++;return res.json({errors:{global:error.message,error}});}else{cov_2p227mft9p.b[1][1]++;}cov_2p227mft9p.s[6]++;if(res.headerSent){cov_2p227mft9p.b[2][0]++;cov_2p227mft9p.s[7]++;return next(error);}else{cov_2p227mft9p.b[2][1]++;}cov_2p227mft9p.s[8]++;res.json({errors:{global:error.message,error:{}}});};var _default=(cov_2p227mft9p.s[9]++,errorHandler);cov_2p227mft9p.s[10]++;exports.default=_default;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVycm9ySGFuZGxlci5qcyJdLCJuYW1lcyI6WyJlcnJvckhhbmRsZXIiLCJlcnJvciIsInJlcSIsInJlcyIsIm5leHQiLCJzdGF0dXMiLCJwcm9jZXNzIiwiZW52IiwiTk9ERSIsIl9FTlYiLCJqc29uIiwiZXJyb3JzIiwiZ2xvYmFsIiwibWVzc2FnZSIsImhlYWRlclNlbnQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7Ozs7Ozs7O0FBVUEsTUFBTUEsWUFBWSxHQUFHLENBQUNDLEtBQUQsRUFBUUMsR0FBUixFQUFhQyxHQUFiLEVBQWtCQyxJQUFsQixLQUEyQjtBQUM5Q0QsRUFBQUEsR0FBRyxDQUFDRSxNQUFKLENBQVdKLEtBQUssQ0FBQ0ksTUFBTixJQUFnQixHQUEzQjs7QUFFQSxNQUFJQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsSUFBWixDQUFpQkMsSUFBakIsS0FBMEIsYUFBOUIsRUFBNkM7QUFDM0MsV0FBT04sR0FBRyxDQUFDTyxJQUFKLENBQVM7QUFDZEMsTUFBQUEsTUFBTSxFQUFFO0FBQ05DLFFBQUFBLE1BQU0sRUFBRVgsS0FBSyxDQUFDWSxPQURSO0FBRU5aLFFBQUFBO0FBRk07QUFETSxLQUFULENBQVA7QUFNRDs7QUFFRCxNQUFJRSxHQUFHLENBQUNXLFVBQVIsRUFBb0I7QUFDbEIsV0FBT1YsSUFBSSxDQUFDSCxLQUFELENBQVg7QUFDRDs7QUFDREUsRUFBQUEsR0FBRyxDQUFDTyxJQUFKLENBQVM7QUFDUEMsSUFBQUEsTUFBTSxFQUFFO0FBQ05DLE1BQUFBLE1BQU0sRUFBRVgsS0FBSyxDQUFDWSxPQURSO0FBRU5aLE1BQUFBLEtBQUssRUFBRTtBQUZEO0FBREQsR0FBVDtBQU1ELENBckJEOztlQXVCZUQsWSIsInNvdXJjZVJvb3QiOiIvVXNlcnMva2V2aW4vYWJhcmlhbi1iYWNrZW5kL3NlcnZlci9taWRkbGV3YXJlcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogdW5jYXVnaHQgZXJyb3JzIGluIHNlcnZlclxuICogQGZ1bmN0aW9uIEVycm9ySGFuZGxlclxuICogQHBhcmFtICB7c3RyaW5nfSBzb21lYm9keSAtIFNvbWVib2R5J3MgbmFtZS5cbiAqIEBwYXJhbSB7b2JqZWN0fSByZXNcbiAqIEBwYXJhbSB7b2JqZWN0fSByZXFcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IG5leHRcbiAqIEByZXR1cm5zIHtmdW5jdGlvbnxvYmplY3R9IC0gRnVuY3Rpb24gbmV4dCgpIG9yIGpzb24gb2JqZWN0XG4gKi9cblxuY29uc3QgZXJyb3JIYW5kbGVyID0gKGVycm9yLCByZXEsIHJlcywgbmV4dCkgPT4ge1xuICByZXMuc3RhdHVzKGVycm9yLnN0YXR1cyB8fCA1MDApO1xuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFLl9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHtcbiAgICByZXR1cm4gcmVzLmpzb24oe1xuICAgICAgZXJyb3JzOiB7XG4gICAgICAgIGdsb2JhbDogZXJyb3IubWVzc2FnZSxcbiAgICAgICAgZXJyb3JcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGlmIChyZXMuaGVhZGVyU2VudCkge1xuICAgIHJldHVybiBuZXh0KGVycm9yKTtcbiAgfVxuICByZXMuanNvbih7XG4gICAgZXJyb3JzOiB7XG4gICAgICBnbG9iYWw6IGVycm9yLm1lc3NhZ2UsXG4gICAgICBlcnJvcjoge31cbiAgICB9XG4gIH0pO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZXJyb3JIYW5kbGVyO1xuIl19